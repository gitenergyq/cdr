<?xml version="1.0" encoding="UTF-8"?>
<con:resource xmlns:con="http://eviware.com/soapui/config" name="/login/init" path="/login/init" id="4af256ba-7d68-4d2c-8f9b-c90013c40ca8">
  <con:settings id="24a2e5f7-e14c-4fda-b6cf-821aa8862af3">
    <con:setting id="4af256ba-7d68-4d2c-8f9b-c90013c40ca8fileName">%2Flogin%2Finit</con:setting>
  </con:settings>
  <con:parameters/>
  <con:method name="initLogin" id="2d8b83a4-3380-4af4-b90a-3d65fe3407be" method="POST">
    <con:description>Initiate OTP Login using a supplied username and receive a request identifier to present the supplied OTP back with. This call should not fail if the username doesn't exist, but instead return a request ID that has no possibility of succeeding. This is to avoid enumeration attacks on usernames via this interface (i.e the only way to verify a user exists is to successfully pass the right OTP).</con:description>
    <con:settings/>
    <con:parameters>
      <con:parameter>
        <con:name>x-fapi-interaction-id</con:name>
        <con:style>HEADER</con:style>
        <con:description>An [RFC4122](https://tools.ietf.org/html/rfc4122) UUID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122](https://tools.ietf.org/html/rfc4122) UUID value is required to be provided in the response header to track the interaction.</con:description>
      </con:parameter>
      <con:parameter required="true">
        <con:name>x-haas-realm-name</con:name>
        <con:style>HEADER</con:style>
        <con:description>The name of the realm that data is being requested for. Necessary for holders that have multiple brands that should not share data between them.</con:description>
      </con:parameter>
      <con:parameter>
        <con:name>x-haas-v</con:name>
        <con:style>HEADER</con:style>
      </con:parameter>
      <con:parameter>
        <con:name>x-haas-performance-tier</con:name>
        <con:style>HEADER</con:style>
        <con:description>This indicates which performance tier according to the Data Standards the request originates</con:description>
      </con:parameter>
      <con:parameter>
        <con:name>x-fapi-customer-ip-address</con:name>
        <con:style>HEADER</con:style>
        <con:description>The customer's original IP address if the customer is currently logged in to the Data Recipient Software Product.</con:description>
      </con:parameter>
      <con:parameter>
        <con:name>x-cds-client-headers</con:name>
        <con:style>HEADER</con:style>
        <con:description>The customer's original standard http headers [Base64](https://consumerdatastandardsaustralia.github.io/standards/#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the Data Recipient Software Product. Mandatory for customer present calls. Not required for unattended or unauthenticated calls.</con:description>
      </con:parameter>
    </con:parameters>
    <con:representation type="RESPONSE">
      <con:mediaType>application/json</con:mediaType>
      <con:status>200</con:status>
      <con:params/>
      <con:description>Success</con:description>
      <con:sampleContent>{
  "version" : "V0",
  "requestId" : "e5468c93-2dfc-4a27-b156-009a1067f2fb",
  "otp" : "123455"
}</con:sampleContent>
    </con:representation>
    <con:representation type="RESPONSE">
      <con:mediaType>application/json</con:mediaType>
      <con:status>400</con:status>
      <con:params/>
      <con:description>Some details captured to identify the user were invalid or missing</con:description>
      <con:sampleContent>{
  "errors" : [ {
    "code" : "urn:au-cds:error:cds-all:LoginInitField/Missing",
    "title" : "Missing Required Field",
    "detail" : "fieldName missing",
    "meta" : {
      "fields" : [ "USERNAME" ],
      "urn" : "urn:au-cds:error:cds-all:LoginInitField/Missing"
    }
  } ]
}</con:sampleContent>
    </con:representation>
    <con:representation type="RESPONSE">
      <con:mediaType>application/json</con:mediaType>
      <con:status>422</con:status>
      <con:params/>
      <con:description>The request was well formed but was unable to be processed due to business logic specific to the request. **NOTE:** Login Init should **never** fail except for login init field validation reasons .</con:description>
      <con:sampleContent>{
  "errors" : [ {
    "code" : "urn:dio:error:cds-all:Login/InvalidUsername",
    "title" : "Invalid Username Specified",
    "detail" : "The Username supplied was invalid",
    "meta" : {
      "urn" : "urn:dio:error:cds-all:Login/InvalidUsername"
    }
  } ]
}</con:sampleContent>
    </con:representation>
    <con:representation type="REQUEST">
      <con:mediaType>application/json</con:mediaType>
      <con:params/>
      <con:sampleContent>{
  "version" : "V0",
  "username" : "customer@email.com"
}</con:sampleContent>
    </con:representation>
    <con:request name="Request 1" id="2262f330-e7a6-46e2-a497-427aaf565954" mediaType="application/json">
      <con:settings/>
      <con:endpoint>https://ods.data.holder/dio-au/v0</con:endpoint>
      <con:request>{\r
  "version" : "V0",\r
  "username" : "customer@email.com"\r
}</con:request>
      <con:credentials>
        <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
        <con:authType>No Authorization</con:authType>
      </con:credentials>
      <con:parameters/>
      <con:environmentSpec>
        <con:entry environmentId="ccd694ea-bddb-4933-ad1f-1421ca398183">
          <con:authProfile>CDR</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:request>
  </con:method>
</con:resource>
